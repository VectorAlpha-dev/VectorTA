---
import BaseLayout from './BaseLayout.astro';
import { Sidebar } from '../components/layout/Sidebar';
import { MobileNav } from '../components/layout/MobileNav';
import Breadcrumbs from '../components/layout/Breadcrumbs.astro';

export interface Props {
  title: string;
  description?: string;
}

const { title, description } = Astro.props;
const currentPath = Astro.url.pathname;
---

<BaseLayout title={title} description={description} includeSidebar={false}>
  <div class="flex min-h-screen">
    <!-- Desktop Sidebar -->
    <div class="hidden lg:block lg:fixed lg:left-0 lg:top-16 lg:h-[calc(100vh-4rem)]">
      <Sidebar client:load currentPath={currentPath} />
    </div>
    
    <!-- Main Content -->
    <div class="flex-1 flex flex-col lg:ml-64">
      <main class="flex-1">
        <div class="max-w-7xl mx-auto px-6 py-8">
          <!-- Breadcrumbs -->
          <Breadcrumbs />
          
          <!-- Page Content -->
          <slot />
        </div>
      </main>
    </div>
  </div>
  
  <!-- Mobile Navigation -->
  <MobileNav client:load currentPath={currentPath} />
</BaseLayout>
