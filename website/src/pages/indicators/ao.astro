---
import IndicatorLayout from '../../layouts/IndicatorLayout.astro';

const indicatorId = 'ao';
const indicatorName = 'Awesome Oscillator (AO)';
const description = `The Awesome Oscillator (AO) is a momentum indicator created by Bill Williams that measures market momentum by calculating the difference between 5-period and 34-period simple moving averages of the median price. It helps traders identify the driving force behind price movements and potential trend changes.`;
const parameters = [
  {
    "name": "fast_period",
    "type": "number",
    "default": 5,
    "min": 3,
    "max": 20,
    "description": "Fast SMA period for median price"
  },
  {
    "name": "slow_period",
    "type": "number",
    "default": 34,
    "min": 20,
    "max": 100,
    "description": "Slow SMA period for median price"
  }
];
---

<IndicatorLayout
  indicatorId={indicatorId}
  indicatorName={indicatorName}
  description={description}
  parameters={parameters}
>
  <h2>Overview</h2>
  <p>
    The Awesome Oscillator (AO) is a momentum indicator developed by Bill Williams as part of his Trading Chaos theory. 
    It measures the difference between two simple moving averages of the median price (not closing price), specifically 
    a 5-period and 34-period SMA. This unique approach provides insight into the market's driving force and momentum.
  </p>
  <p>
    The AO is displayed as a histogram that oscillates above and below a zero line, with color coding that makes it 
    easy to identify momentum changes at a glance. Green bars indicate increasing momentum, while red bars indicate 
    decreasing momentum, regardless of whether the oscillator is above or below zero.
  </p>

  <h2>How It Works</h2>
  <p>The Awesome Oscillator calculation is straightforward:</p>
  <ol>
    <li><strong>Calculate Median Price:</strong> (High + Low) / 2 for each bar</li>
    <li><strong>Calculate Fast SMA:</strong&gt; 5-period simple moving average of median price</li>
    <li><strong>Calculate Slow SMA:</strong&gt; 34-period simple moving average of median price</li>
    <li><strong>Calculate AO:</strong> Fast SMA - Slow SMA</li>
  </ol>
  
  <div class="not-prose bg-gray-100 dark:bg-gray-800 p-4 rounded-lg my-4 border border-gray-200 dark:border-gray-700">
    <p class="font-mono text-sm mb-0 text-gray-800 dark:text-gray-200">
      Median Price = (High + Low) / 2<br/>
      AO = SMA(Median Price, 5) - SMA(Median Price, 34)<br/>
      <br/>
      Bar Color:<br/>
      Green = Current AO &gt; Previous AO<br/>
      Red = Current AO &lt; Previous AO
    </p>
  </div>

  <h2>Key Features</h2>
  <ul>
    <li><strong>Median Price Based:</strong> Uses (H+L)/2 instead of close for more stable readings</li>
    <li><strong>Color-Coded Histogram:</strong> Visual representation of momentum acceleration/deceleration</li>
    <li><strong>Zero-Line Oscillator:</strong> Oscillates around zero, showing bullish/bearish momentum</li>
    <li><strong>No Parameters:</strong> Fixed 5 and 34 periods as per Bill Williams' design</li>
  </ul>

  <h2>Interpretation & Trading Signals</h2>
  
  <h3>Basic Signals</h3>
  <div class="not-prose bg-blue-50 dark:bg-blue-950/30 p-4 rounded-lg my-4 border border-blue-200 dark:border-blue-800">
    <h4 class="font-semibold mb-2 text-lg text-blue-900 dark:text-blue-100">Zero Line Cross:</h4>
    <ul class="list-disc list-inside mb-4 text-gray-700 dark:text-gray-300">
      <li><strong class="text-gray-900 dark:text-gray-100">Bullish:</strong> AO crosses above zero line</li>
      <li><strong class="text-gray-900 dark:text-gray-100">Bearish:</strong> AO crosses below zero line</li>
    </ul>
    
    <h4 class="font-semibold mb-2 text-lg text-blue-900 dark:text-blue-100">Twin Peaks:</h4>
    <ul class="list-disc list-inside mb-4 text-gray-700 dark:text-gray-300">
      <li><strong class="text-gray-900 dark:text-gray-100">Bullish Twin Peaks:</strong> Two peaks below zero, second peak higher (less negative) than first</li>
      <li><strong class="text-gray-900 dark:text-gray-100">Bearish Twin Peaks:</strong> Two peaks above zero, second peak lower than first</li>
    </ul>
    
    <h4 class="font-semibold mb-2 text-lg text-blue-900 dark:text-blue-100">Saucer Signals:</h4>
    <ul class="list-disc list-inside text-gray-700 dark:text-gray-300">
      <li><strong class="text-gray-900 dark:text-gray-100">Bullish Saucer:</strong> Three bars - red, red (lower), green (above zero)</li>
      <li><strong class="text-gray-900 dark:text-gray-100">Bearish Saucer:</strong> Three bars - green, green (higher), red (below zero)</li>
    </ul>
  </div>

  <h3>Advanced Patterns</h3>
  <ul>
    <li><strong>Divergence:</strong>
      <ul>
        <li>Bullish: Price makes lower lows while AO makes higher lows</li>
        <li>Bearish: Price makes higher highs while AO makes lower highs</li>
      </ul>
    </li>
    <li><strong>Momentum Change:</strong> Color changes indicate shifts in momentum that often precede price reversals</li>
    <li><strong>AO Peaks:</strong> Extreme readings often indicate overbought/oversold conditions</li>
  </ul>

  <h3>Bill Williams Trading Signals</h3>
  <ul>
    <li><strong>First Wise Man:</strong> Bullish divergence between price and AO</li>
    <li><strong>Second Wise Man:</strong> Momentum change from red to green bars</li>
    <li><strong>Third Wise Man:</strong> Saucer formation for continuation signals</li>
  </ul>

  <h2>Practical Application</h2>
  
  <h3>Strengths</h3>
  <ul>
    <li>Simple calculation with no parameter optimization needed</li>
    <li>Clear visual signals through color coding</li>
    <li>Works well in trending markets</li>
    <li>Part of a complete trading system</li>
    <li>Effective for identifying momentum shifts early</li>
  </ul>

  <h3>Limitations</h3>
  <ul>
    <li>Can generate false signals in ranging markets</li>
    <li>Lagging indicator due to moving average calculation</li>
    <li>Fixed parameters may not suit all markets/timeframes</li>
    <li>Requires understanding of Bill Williams' methodology</li>
    <li>Best used with other confirming indicators</li>
  </ul>

  <h2>Combination with Other Indicators</h2>
  <p>The AO works particularly well when combined with other Bill Williams indicators:</p>
  <ul>
    <li><strong>Alligator:</strong> AO confirms when the Alligator is "eating" (trending)</li>
    <li><strong>Fractals:</strong> Use AO to confirm fractal breakouts</li>
    <li><strong>AC (Acceleration/Deceleration):</strong> AC is derived from AO for earlier signals</li>
    <li><strong>Market Facilitation Index:</strong> Combine momentum (AO) with volume analysis (MFI)</li>
    <li><strong>Support/Resistance:</strong> AO divergences are more reliable near key levels</li>
  </ul>

  <h2>Example Usage</h2>
  <p>Code examples will be available once the Rust implementation is complete.</p>
  </div>

  <h2>Mathematical Background</h2>
  <p>
    The Awesome Oscillator's use of median price (High + Low) / 2 instead of closing price is intentional. 
    Bill Williams believed that the median price better represents the true value of a trading period, as it 
    accounts for the entire range rather than just where the period happened to close.
  </p>
  <p>
    The specific periods of 5 and 34 are based on Fibonacci numbers (5 and 34), reflecting Williams' belief in 
    natural market cycles. The 5-period SMA captures short-term momentum, while the 34-period SMA represents the 
    longer-term trend, and their difference reveals whether momentum is accelerating or decelerating.
  </p>

</IndicatorLayout>