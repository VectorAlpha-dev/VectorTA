---
import IndicatorLayout from '../../layouts/IndicatorLayout.astro';

const indicatorId = 'adxr';
const indicatorName = 'Average Directional Index Rating (ADXR)';
const description = `The Average Directional Index Rating (ADXR) is a smoothed version of the ADX indicator that provides a more stable reading of trend strength. It averages the current ADX value with a previous ADX value, reducing noise and providing clearer signals about the overall trend strength.`;
const parameters = [
  {
    "name": "period",
    "type": "number",
    "default": 14,
    "min": 7,
    "max": 50,
    "description": "Period for ADX calculation and smoothing interval"
  }
];
---

<IndicatorLayout
  indicatorId={indicatorId}
  indicatorName={indicatorName}
  description={description}
  parameters={parameters}
>
  <h2>Overview</h2>
  <p>
    The Average Directional Index Rating (ADXR) is a smoothed version of the Average Directional Index (ADX), developed as part of 
    J. Welles Wilder's Directional Movement System. The ADXR provides a more stable and less volatile measure of trend strength 
    by averaging the current ADX value with an ADX value from a specified number of periods ago.
  </p>
  <p>
    This additional smoothing makes the ADXR particularly useful for filtering out short-term fluctuations in trend strength 
    and providing a clearer picture of the overall market condition. It's especially valuable for longer-term trend analysis 
    and for traders who prefer more stable, less reactive indicators.
  </p>

  <h2>How It Works</h2>
  <p>The ADXR calculation is straightforward once you have ADX values:</p>
  <ol>
    <li><strong>Calculate ADX:</strong> First, calculate the standard ADX values using the specified period</li>
    <li><strong>Look Back:</strong> Identify the ADX value from n periods ago (where n is typically the same as the ADX period)</li>
    <li><strong>Average:</strong> Calculate the average of the current ADX and the historical ADX value</li>
  </ol>
  
  <div class="not-prose bg-gray-100 dark:bg-gray-800 p-4 rounded-lg my-4 border border-gray-200 dark:border-gray-700">
    <p class="font-mono text-sm mb-0 text-gray-800 dark:text-gray-200">
      ADXR = (ADX[today] + ADX[n periods ago]) / 2<br/>
      <br/>
      Where n = ADX period (typically 14)
    </p>
  </div>

  <h2>Key Features</h2>
  <ul>
    <li><strong>Double Smoothing:</strong> Smooths the already smoothed ADX for ultra-stable readings</li>
    <li><strong>Lag Characteristic:</strong> More lagging than ADX but provides clearer trend confirmation</li>
    <li><strong>Range:</strong> Same as ADX (0-100), but with less extreme values due to averaging</li>
    <li><strong>Stability:</strong> Less prone to whipsaws and false signals than standard ADX</li>
  </ul>

  <h2>Interpretation & Trading Signals</h2>
  
  <h3>ADXR Value Interpretation</h3>
  <div class="not-prose bg-blue-50 dark:bg-blue-950/30 p-4 rounded-lg my-4 border border-blue-200 dark:border-blue-800">
    <ul class="list-none space-y-2 text-gray-700 dark:text-gray-300">
      <li><strong class="text-gray-900 dark:text-gray-100">Below 20:</strong> Very weak or no trend - Strong ranging market</li>
      <li><strong class="text-gray-900 dark:text-gray-100"&gt;20-25:</strong> Weak trend beginning to develop</li>
      <li><strong class="text-gray-900 dark:text-gray-100"&gt;25-40:</strong> Moderate to strong trend - Good for trend following</li>
      <li><strong class="text-gray-900 dark:text-gray-100"&gt;40-50:</strong> Strong trend - High confidence in trend continuation</li>
      <li><strong class="text-gray-900 dark:text-gray-100">Above 50:</strong> Very strong trend - May be approaching exhaustion</li>
    </ul>
  </div>

  <h3>Trading Applications</h3>
  <ul>
    <li><strong>Trend Confirmation:</strong> ADXR above 25 confirms a sustainable trend suitable for position trading</li>
    <li><strong>Filter for False Breakouts:</strong> Wait for ADXR confirmation before entering breakout trades</li>
    <li><strong>Strategy Selection:</strong>
      <ul>
        <li>ADXR &lt; 20: Use range-trading strategies (buy support, sell resistance)</li>
        <li>ADXR &gt; 25: Use trend-following strategies (moving average crossovers, breakouts)</li>
      </ul>
    </li>
    <li><strong>Position Sizing:</strong> Higher ADXR values may justify larger position sizes due to trend reliability</li>
  </ul>

  <h3>ADXR vs ADX Comparison</h3>
  <ul>
    <li><strong>Smoothness:</strong> ADXR provides smoother signals with fewer false readings</li>
    <li><strong>Timing:</strong> ADXR lags behind ADX, confirming trends rather than predicting them</li>
    <li><strong>Reliability:</strong> ADXR filters out more noise, reducing whipsaw trades</li>
    <li><strong>Best Use:</strong> ADX for early signals, ADXR for confirmation</li>
  </ul>

  <h2>Practical Application</h2>
  
  <h3>Strengths</h3>
  <ul>
    <li>Extremely stable trend strength measurement</li>
    <li>Reduces false signals significantly compared to ADX</li>
    <li>Excellent for longer-term trend analysis</li>
    <li>Works well as a filter for other trading systems</li>
    <li>Clear differentiation between trending and ranging markets</li>
  </ul>

  <h3>Limitations</h3>
  <ul>
    <li>Significant lag due to double smoothing</li>
    <li>May miss short-term trading opportunities</li>
    <li>Slow to react to trend changes</li>
    <li>Not suitable for scalping or day trading</li>
    <li>Can remain in "trend" mode after trend has ended</li>
  </ul>

  <h2>Combination with Other Indicators</h2>
  <p>The ADXR works particularly well when combined with:</p>
  <ul>
    <li><strong>ADX:</strong> Use ADX for early signals and ADXR for confirmation</li>
    <li><strong>+DI and -DI:</strong> For trend direction while ADXR shows strength</li>
    <li><strong>Moving Average Systems:</strong> ADXR confirms when to trust MA crossover signals</li>
    <li><strong>Bollinger Bands:</strong> ADXR helps identify when breakouts are likely to continue</li>
    <li><strong>Momentum Oscillators:</strong> RSI or Stochastic for entry timing when ADXR shows trend</li>
  </ul>

  <h2>Example Usage</h2>
  <p>Code examples will be available once the Rust implementation is complete.</p>
  </div>

  <h2>Mathematical Background</h2>
  <p>
    The ADXR's mathematical simplicity is its strength. By averaging the current ADX with a historical ADX value, 
    it creates a "moving average of a moving average" effect. This double smoothing dramatically reduces noise 
    while maintaining the essential trend strength information.
  </p>
  <p>
    The typical 14-period lookback means the ADXR is comparing current trend strength with trend strength from 
    two weeks ago (on a daily chart), providing a medium-term perspective on whether the market's trending 
    characteristics are persistent or temporary.
  </p>

</IndicatorLayout>