---
import IndicatorLayout from '../../layouts/IndicatorLayout.astro';

const indicatorId = 'jsa';
const indicatorName = 'J. Welles Wilder Smoothing Average';
const description = `The J. Welles Wilder Smoothing Average (JSA) is a specialized exponential smoothing technique developed by J. Welles Wilder Jr., commonly used as a component in indicators like RSI and ATR, providing consistent smoothing with a unique calculation method.`;
const parameters = [
  {
    "name": "period",
    "type": "number",
    "default": 14,
    "min": 2,
    "max": 200,
    "description": "Smoothing period"
  }
];
---

<IndicatorLayout
  indicatorId={indicatorId}
  indicatorName={indicatorName}
  description={description}
  parameters={parameters}
>
  <h2 id="overview">Overview</h2>
  <p>
    The J. Welles Wilder Smoothing Average (JSA), also known as Wilder's Smoothing or Modified 
    Exponential Moving Average, is a unique smoothing technique developed by J. Welles Wilder Jr. 
    This smoothing method is fundamental to many of Wilder's famous indicators including RSI, 
    ATR, ADX, and the Parabolic SAR.
  </p>
  <p>
    What makes Wilder's smoothing distinctive is its specific calculation method that creates a 
    smoothing factor equivalent to a (2×period - 1) EMA. For example, a 14-period Wilder's 
    smoothing provides smoothing equivalent to a 27-period EMA. This relationship allows for 
    consistent behavior across different indicators while maintaining the specific characteristics 
    that Wilder intended for his trading systems.
  </p>

  <h2 id="interpretation">Interpretation</h2>
  <h3>Smoothing Characteristics</h3>
  <ul>
    <li><strong>Consistent lag:</strong> Provides predictable smoothing behavior</li>
    <li><strong>Noise reduction:</strong> Effectively filters market noise</li>
    <li><strong>Trend preservation:</strong> Maintains trend direction clarity</li>
    <li><strong>Stability:</strong> Less reactive to single-bar price spikes</li>
  </ul>

  <h3>Trading Applications</h3>
  <ul>
    <li><strong>Trend identification:</strong> Smooth price action for trend analysis</li>
    <li><strong>Component smoothing:</strong> Used within RSI, ATR, ADX calculations</li>
    <li><strong>Signal filtering:</strong> Reduces false signals in choppy markets</li>
    <li><strong>Support/Resistance:</strong> Creates smooth dynamic levels</li>
  </ul>

  <h3>Comparison with Other Averages</h3>
  <ul>
    <li><strong>vs SMA:</strong> More responsive but with similar smoothness</li>
    <li><strong>vs EMA:</strong> More stable, less prone to whipsaws</li>
    <li><strong>Equivalent EMA:</strong> Period × 2 - 1 (e.g., 14 JSA ≈ 27 EMA)</li>
    <li><strong>Calculation efficiency:</strong> Uses previous value recursively</li>
  </ul>

  <h2 id="calculation">Calculation</h2>
  <p>The Wilder's Smoothing calculation follows these steps:</p>
  <ol>
    <li><strong>Initial value:</strong> Simple average of first 'period' values</li>
    <li><strong>Smoothing factor:</strong> <code>α = 1 / period</code></li>
    <li><strong>Recursive calculation:</strong>
      <ul>
        <li><code>JSA = α × Current + (1 - α) × Previous_JSA</code></li>
        <li>Or equivalently: <code>JSA = Previous_JSA + α × (Current - Previous_JSA)</code></li>
      </ul>
    </li>
    <li><strong>Alternative form:</strong>
      <ul>
        <li><code>JSA = (Previous_JSA × (period - 1) + Current) / period</code></li>
      </ul>
    </li>
  </ol>
  <p>
    The key insight is that Wilder used 1/period as the smoothing factor, while standard EMA 
    uses 2/(period + 1). This makes Wilder's smoothing roughly twice as smooth as an EMA of 
    the same period, which is why it's particularly effective for volatile indicators like ATR.
  </p>

  <h2 id="parameters">Parameters</h2>
  <ul>
    <li>
      <strong>Period (default: 14):</strong> The smoothing period that determines the weight given 
      to new values. Wilder originally recommended 14 for most applications, which provides a good 
      balance between responsiveness and stability. Shorter periods (7-10) create more responsive 
      but noisier results, while longer periods (20-30) provide more stability but increased lag. 
      The period directly affects the smoothing factor as 1/period.
    </li>
  </ul>

  <h2 id="returns">Returns & Output</h2>
  <p>The indicator returns an array of smoothed values:</p>
  <ul>
    <li><strong>Type:</strong> Array of floating-point numbers</li>
    <li><strong>Length:</strong> Same as input array</li>
    <li><strong>Initial values:</strong> First 'period-1' values use partial calculations</li>
    <li><strong>Smoothing level:</strong> Equivalent to (2×period - 1) EMA</li>
    <li><strong>Range:</strong> Within the range of input values</li>
  </ul>

  <h2 id="usage">Example Usage</h2>
  <h3>Rust Implementation</h3>
  <pre><code class="language-rust"> // Rust implementation example will be added here
</code></pre>

  <h3>Python Integration</h3> <pre><code class="language-python"> # Python implementation example will be added here
</code></pre>

  <h2 id="use-cases"> Common Use Cases</h2> <h3>1. Custom Indicator Development</h3> <p>Using Wilder's smoothing in custom indicators:</p>
  <pre><code class="language-python"> # Python implementation example will be added here
</code></pre>

  <h3>2. Volatility-Adjusted Bands</h3> <p>Creating bands using Wilder's smoothing:</p>
  <pre><code class="language-python"> # Python implementation example will be added here
</code></pre>

  <h3>3. Multi-Period Analysis</h3> <p>Using multiple Wilder's periods for confirmation:</p>
  <pre><code class="language-python"> # Python implementation example will be added here
</code></pre>

  <h2 id="edge-cases"> Edge Cases & Errors</h2>
  <h3>Common Issues</h3>
  <ul>
    <li><strong>Initialization:</strong> First period-1 values may be less reliable</li>
    <li><strong>Lag characteristics:</strong> More lag than standard EMA of same period</li>
    <li><strong>Recursive calculation:</strong> Errors can compound if not careful</li>
    <li><strong>Period selection:</strong> Very short periods lose Wilder's intended smoothing</li>
  </ul>

  <h3>Best Practices</h3>
  <ul>
    <li>Use Wilder's original period of 14 as a starting point</li>
    <li>Remember the EMA equivalence: JSA period × 2 - 1</li>
    <li>Apply to derived values (like ATR) not just prices</li>
    <li>Combine with Wilder's other indicators (RSI, ADX) for consistency</li>
    <li>Allow sufficient warmup period for calculations</li>
    <li>Use for smoothing volatile indicators or data series</li>
  </ul>

  <h2 id="references">References</h2>
  <ul>
    <li>Wilder, J. W. Jr. (1978). <em>New Concepts in Technical Trading Systems</em></li>
    <li>Understanding the relationship between Wilder's smoothing and EMA</li>
    <li>Applications in RSI, ATR, ADX, and Parabolic SAR calculations</li>
    <li>Comparison with other adaptive smoothing techniques</li>
  </ul>
</IndicatorLayout>
